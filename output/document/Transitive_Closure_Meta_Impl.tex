%
\begin{isabellebody}%
\setisabellecontext{Transitive{\isacharunderscore}{\kern0pt}Closure{\isacharunderscore}{\kern0pt}Meta{\isacharunderscore}{\kern0pt}Impl}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Transitive Closure Implementation%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Transitive{\isacharunderscore}{\kern0pt}Closure{\isacharunderscore}{\kern0pt}Meta{\isacharunderscore}{\kern0pt}Impl\isanewline
\ \ \isakeyword{imports}\ {\isachardoublequoteopen}HOL{\isacharminus}{\kern0pt}Library{\isachardot}{\kern0pt}Mapping{\isachardoublequoteclose}\ {\isachardoublequoteopen}HOL{\isacharminus}{\kern0pt}Library{\isachardot}{\kern0pt}Product{\isacharunderscore}{\kern0pt}Lexorder{\isachardoublequoteclose}\ Relpow{\isacharunderscore}{\kern0pt}Meta{\isacharunderscore}{\kern0pt}Impl\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Data structure%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{definition}\isamarkupfalse%
\ {\isachardoublequoteopen}un{\isacharunderscore}{\kern0pt}map\ {\isasymequiv}\ fold\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}b{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ Mapping{\isachardot}{\kern0pt}update\ u\ b{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isachardoublequoteopen}memb{\isacharunderscore}{\kern0pt}map\ u\ m\ {\isasymequiv}\ {\isasymnot}\ Option{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}none\ {\isacharparenleft}{\kern0pt}Mapping{\isachardot}{\kern0pt}lookup\ m\ u{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ un{\isacharunderscore}{\kern0pt}keys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Mapping{\isachardot}{\kern0pt}keys\ {\isacharparenleft}{\kern0pt}un{\isacharunderscore}{\kern0pt}map\ as\ m{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fst\ {\isacharbackquote}{\kern0pt}\ set\ as\ {\isasymunion}\ Mapping{\isachardot}{\kern0pt}keys\ m{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ as\ arbitrary{\isacharcolon}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ un{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ update{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}metas{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}valid{\isacharunderscore}{\kern0pt}meta\ k\ v\ {\isasymLongrightarrow}\ valid{\isacharunderscore}{\kern0pt}metas{\isacharunderscore}{\kern0pt}set\ valid{\isacharunderscore}{\kern0pt}meta\ {\isacharparenleft}{\kern0pt}Mapping{\isachardot}{\kern0pt}entries\ m{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ valid{\isacharunderscore}{\kern0pt}metas{\isacharunderscore}{\kern0pt}set\ valid{\isacharunderscore}{\kern0pt}meta\ {\isacharparenleft}{\kern0pt}Mapping{\isachardot}{\kern0pt}entries\ {\isacharparenleft}{\kern0pt}Mapping{\isachardot}{\kern0pt}update\ k\ v\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ valid{\isacharunderscore}{\kern0pt}metas{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ entries{\isacharunderscore}{\kern0pt}delete\ entries{\isacharunderscore}{\kern0pt}update{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ un{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}metas{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}valid{\isacharunderscore}{\kern0pt}metas{\isacharunderscore}{\kern0pt}set\ valid{\isacharunderscore}{\kern0pt}meta\ {\isacharparenleft}{\kern0pt}set\ as{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ {\isachardoublequoteopen}valid{\isacharunderscore}{\kern0pt}metas{\isacharunderscore}{\kern0pt}set\ valid{\isacharunderscore}{\kern0pt}meta\ {\isacharparenleft}{\kern0pt}Mapping{\isachardot}{\kern0pt}entries\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{shows}\ {\isachardoublequoteopen}valid{\isacharunderscore}{\kern0pt}metas{\isacharunderscore}{\kern0pt}set\ valid{\isacharunderscore}{\kern0pt}meta\ {\isacharparenleft}{\kern0pt}Mapping{\isachardot}{\kern0pt}entries\ {\isacharparenleft}{\kern0pt}un{\isacharunderscore}{\kern0pt}map\ as\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ un{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ as\ arbitrary{\isacharcolon}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ a\ as{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ as{\isacharunderscore}{\kern0pt}valid{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}valid{\isacharunderscore}{\kern0pt}metas{\isacharunderscore}{\kern0pt}set\ valid{\isacharunderscore}{\kern0pt}meta\ {\isacharparenleft}{\kern0pt}set\ as{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ valid{\isacharunderscore}{\kern0pt}metas{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ k\ v\ \isakeyword{where}\ kv{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}k{\isacharcomma}{\kern0pt}v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}valid{\isacharunderscore}{\kern0pt}meta\ k\ v{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{unfolding}\isamarkupfalse%
\ valid{\isacharunderscore}{\kern0pt}metas{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}valid{\isacharunderscore}{\kern0pt}metas{\isacharunderscore}{\kern0pt}set\ valid{\isacharunderscore}{\kern0pt}meta\ {\isacharparenleft}{\kern0pt}Mapping{\isachardot}{\kern0pt}entries\ {\isacharparenleft}{\kern0pt}Mapping{\isachardot}{\kern0pt}update\ k\ v\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ update{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}metas\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ kv\ as{\isacharunderscore}{\kern0pt}valid\ Cons\ update{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}metas\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{interpretation}\isamarkupfalse%
\ trancl{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}structure{\isacharunderscore}{\kern0pt}mapping{\isacharcolon}{\kern0pt}\ relpow{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}structure\ un{\isacharunderscore}{\kern0pt}map\ Mapping{\isachardot}{\kern0pt}entries\ memb{\isacharunderscore}{\kern0pt}map\ Mapping{\isachardot}{\kern0pt}empty\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ memb{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}unfold{\isacharunderscore}{\kern0pt}locales{\isacharcomma}{\kern0pt}\ auto\ simp{\isacharcolon}{\kern0pt}\ image{\isacharunderscore}{\kern0pt}Un\ un{\isacharunderscore}{\kern0pt}keys\ keys{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}none{\isacharunderscore}{\kern0pt}rep\ un{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}metas{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Transitive Closure with successor function%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{locale}\isamarkupfalse%
\ trancl{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}succ\ {\isacharequal}{\kern0pt}\isanewline
\ \ relpow{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}structure\ un\ set{\isacharunderscore}{\kern0pt}of\ memb\ empty\ valid{\isacharunderscore}{\kern0pt}meta\isanewline
\ \ \isakeyword{for}\ un\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharasterisk}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}c\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}c{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ set{\isacharunderscore}{\kern0pt}of\ memb\ empty\ valid{\isacharunderscore}{\kern0pt}meta\ {\isacharplus}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ succ\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharasterisk}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharasterisk}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ list{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ rel{\isacharunderscore}{\kern0pt}meta\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharasterisk}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ list{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ succ{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}step{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fst\ {\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}succ\ as{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ x\ y\ z{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharparenright}{\kern0pt}\ {\isasymin}\ fst\ {\isacharbackquote}{\kern0pt}\ set\ as\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ {\isasymin}\ fst\ {\isacharbackquote}{\kern0pt}\ set\ rel{\isacharunderscore}{\kern0pt}meta{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ succ{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}metas{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}valid{\isacharunderscore}{\kern0pt}metas\ {\isacharparenleft}{\kern0pt}set\ as{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ valid{\isacharunderscore}{\kern0pt}metas\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}succ\ as{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isakeyword{begin}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isachardoublequoteopen}rel\ {\isasymequiv}\ fst\ {\isacharbackquote}{\kern0pt}\ set\ rel{\isacharunderscore}{\kern0pt}meta{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isachardoublequoteopen}succ{\isacharunderscore}{\kern0pt}rel\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ x\ y\ z{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ {\isasymin}\ rel{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ succ{\isacharunderscore}{\kern0pt}succ{\isacharunderscore}{\kern0pt}rel{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fst\ {\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}succ\ as{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}b{\isachardot}{\kern0pt}\ {\isasymexists}a{\isasymin}fst\ {\isacharbackquote}{\kern0pt}\ set\ as{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}\ {\isasymin}\ succ{\isacharunderscore}{\kern0pt}rel{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}l\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}r{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}l\ {\isasymsubseteq}\ {\isacharquery}{\kern0pt}r{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ succ{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ rel{\isacharunderscore}{\kern0pt}def\ succ{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}step\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}r\ {\isasymsubseteq}\ {\isacharquery}{\kern0pt}l{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ b\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}b\ {\isasymin}\ {\isacharquery}{\kern0pt}r{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ a\ \isakeyword{where}\ a{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymin}\ fst\ {\isacharbackquote}{\kern0pt}\ set\ as{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}b{\isacharparenright}{\kern0pt}\ {\isasymin}\ succ{\isacharunderscore}{\kern0pt}rel{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ y\ z\ \isakeyword{where}\ {\isachardoublequoteopen}a\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharparenright}{\kern0pt}\ {\isasymand}\ b\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ {\isasymin}\ rel{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ succ{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}b\ {\isasymin}\ {\isacharquery}{\kern0pt}l{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ succ{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}step\ rel{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ a\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{sublocale}\isamarkupfalse%
\ relpow{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}succ{\isacharcolon}{\kern0pt}\ relpow{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}succ\ un\ set{\isacharunderscore}{\kern0pt}of\ memb\ empty\ valid{\isacharunderscore}{\kern0pt}meta\ succ\ succ{\isacharunderscore}{\kern0pt}rel\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ succ{\isacharunderscore}{\kern0pt}succ{\isacharunderscore}{\kern0pt}rel\ succ{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}metas\ \isacommand{by}\isamarkupfalse%
\ unfold{\isacharunderscore}{\kern0pt}locales%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ rel{\isacharunderscore}{\kern0pt}succ{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}gen{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}b{\isachardot}{\kern0pt}\ {\isasymexists}a{\isachardot}{\kern0pt}\ a\ {\isasymin}\ as\ {\isasymand}\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}b{\isacharparenright}{\kern0pt}\ {\isasymin}\ succ{\isacharunderscore}{\kern0pt}rel\ {\isacharcircum}{\kern0pt}{\isacharcircum}{\kern0pt}\ m{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ as\ O\ rel\ {\isacharcircum}{\kern0pt}{\isacharcircum}{\kern0pt}\ m{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}l\ m\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}r\ m{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}l\ m\ {\isasymsubseteq}\ {\isacharquery}{\kern0pt}r\ m{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ m{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{0}}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ m{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ b\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ b{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}l{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}b\ {\isasymin}\ {\isacharquery}{\kern0pt}l\ {\isacharparenleft}{\kern0pt}Suc\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ a\ z\isanewline
\ \ \ \ \ \ \ \ \isakeyword{where}\ {\isachardoublequoteopen}a\ {\isasymin}\ as{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeyword{and}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ {\isasymin}\ succ{\isacharunderscore}{\kern0pt}rel\ {\isacharcircum}{\kern0pt}{\isacharcircum}{\kern0pt}\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeyword{and}\ zb{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}z{\isacharcomma}{\kern0pt}b{\isacharparenright}{\kern0pt}\ {\isasymin}\ succ{\isacharunderscore}{\kern0pt}rel{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}z\ {\isasymin}\ as\ O\ rel\ {\isacharcircum}{\kern0pt}{\isacharcircum}{\kern0pt}\ m{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ Suc\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}b\ {\isasymin}\ {\isacharquery}{\kern0pt}r\ {\isacharparenleft}{\kern0pt}Suc\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ zb\ \isacommand{unfolding}\isamarkupfalse%
\ succ{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}r\ m\ {\isasymsubseteq}\ {\isacharquery}{\kern0pt}l\ m{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ m{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{0}}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ m{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ b\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}b\ {\isasymin}\ {\isacharquery}{\kern0pt}r\ {\isacharparenleft}{\kern0pt}Suc\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ z\ \isakeyword{where}\ y{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}r{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isasymin}\ {\isacharquery}{\kern0pt}r\ m{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}b\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}z{\isacharbraceright}{\kern0pt}\ O\ rel{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ zb{\isacharunderscore}{\kern0pt}relpow{\isacharunderscore}{\kern0pt}rel{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}z{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}\ {\isasymin}\ succ{\isacharunderscore}{\kern0pt}rel{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ succ{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}z\ {\isasymin}\ {\isacharquery}{\kern0pt}l\ m{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}r\ Suc\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}b\ {\isasymin}\ {\isacharquery}{\kern0pt}l\ {\isacharparenleft}{\kern0pt}Suc\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ zb{\isacharunderscore}{\kern0pt}relpow{\isacharunderscore}{\kern0pt}rel\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ rel{\isacharunderscore}{\kern0pt}succ{\isacharunderscore}{\kern0pt}comp{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}b{\isachardot}{\kern0pt}\ {\isasymexists}a{\isachardot}{\kern0pt}\ a\ {\isasymin}\ rel\ {\isasymand}\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}b{\isacharparenright}{\kern0pt}\ {\isasymin}\ succ{\isacharunderscore}{\kern0pt}rel\ {\isacharcircum}{\kern0pt}{\isacharcircum}{\kern0pt}\ m{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ rel\ {\isacharcircum}{\kern0pt}{\isacharcircum}{\kern0pt}\ Suc\ m{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ rel{\isacharunderscore}{\kern0pt}succ{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}gen\ \isacommand{using}\isamarkupfalse%
\ relpow{\isacharunderscore}{\kern0pt}commute\ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ntrancl{\isacharunderscore}{\kern0pt}Suc{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ntrancl\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ rel\ {\isacharequal}{\kern0pt}\ ntrancl\ n\ rel\ {\isasymunion}\ rel\ {\isacharcircum}{\kern0pt}{\isacharcircum}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}l\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}r{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ {\isadigit{0}}\ {\isacharless}{\kern0pt}\ i\ {\isasymand}\ i\ {\isasymle}\ Suc\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ {\isadigit{0}}\ {\isacharless}{\kern0pt}\ i\ {\isasymand}\ i\ {\isasymle}\ Suc\ n{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ntrancl\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ rel\ {\isacharequal}{\kern0pt}\ {\isasymUnion}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharcircum}{\kern0pt}{\isacharcircum}{\kern0pt}{\isacharparenright}{\kern0pt}\ rel\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ {\isadigit{0}}\ {\isacharless}{\kern0pt}\ i\ {\isasymand}\ i\ {\isasymle}\ Suc\ n{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ ntrancl{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ ntrancl\ n\ rel\ {\isasymunion}\ rel\ {\isacharcircum}{\kern0pt}{\isacharcircum}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ ntrancl{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ relpow{\isacharunderscore}{\kern0pt}impl{\isacharunderscore}{\kern0pt}ntrancl{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}b{\isachardot}{\kern0pt}\ {\isasymexists}a\ m{\isachardot}{\kern0pt}\ a\ {\isasymin}\ rel\ {\isasymand}\ m\ {\isasymle}\ n\ {\isasymand}\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}\ {\isasymin}\ succ{\isacharunderscore}{\kern0pt}rel\ {\isacharcircum}{\kern0pt}{\isacharcircum}{\kern0pt}\ m{\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ {\isacharequal}{\kern0pt}\ ntrancl\ n\ rel{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}l\ n\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}r\ n{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{0}}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}l\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}b{\isachardot}{\kern0pt}\ {\isasymexists}a\ m{\isachardot}{\kern0pt}\ a\ {\isasymin}\ rel\ {\isasymand}\ {\isacharparenleft}{\kern0pt}m\ {\isasymle}\ n\ {\isasymor}\ m\ {\isacharequal}{\kern0pt}\ Suc\ n{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}\ {\isasymin}\ succ{\isacharunderscore}{\kern0pt}rel\ {\isacharcircum}{\kern0pt}{\isacharcircum}{\kern0pt}\ m{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ le{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}l\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}l\ n\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}b{\isachardot}{\kern0pt}\ {\isasymexists}a{\isachardot}{\kern0pt}\ a\ {\isasymin}\ rel\ {\isasymand}\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}\ {\isasymin}\ succ{\isacharunderscore}{\kern0pt}rel\ {\isacharcircum}{\kern0pt}{\isacharcircum}{\kern0pt}\ Suc\ n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}l\ n\ {\isasymunion}\ rel\ {\isacharcircum}{\kern0pt}{\isacharcircum}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ rel{\isacharunderscore}{\kern0pt}succ{\isacharunderscore}{\kern0pt}comp\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ ntrancl\ n\ rel\ {\isasymunion}\ rel\ {\isacharcircum}{\kern0pt}{\isacharcircum}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ Suc\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ ntrancl\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ rel{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ ntrancl{\isacharunderscore}{\kern0pt}Suc\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ntrancl{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isasymle}\ m\ {\isasymLongrightarrow}\ ntrancl\ n\ rel\ {\isasymsubseteq}\ ntrancl\ m\ rel{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ ntrancl{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ force%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ntrancl{\isacharunderscore}{\kern0pt}bounded{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ r\ {\isasymLongrightarrow}\ ntrancl\ {\isacharparenleft}{\kern0pt}card\ r\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}\ {\isacharplus}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ r\ {\isacharequal}{\kern0pt}\ r\isactrlsup {\isacharplus}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ n{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}trancl{\isacharunderscore}{\kern0pt}ntranl{\isacharcomma}{\kern0pt}\ fastforce{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ relpow{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}trancl{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fst\ {\isacharbackquote}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}of\ {\isacharparenleft}{\kern0pt}relpow{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}impl\ succ\ un\ memb\ rel{\isacharunderscore}{\kern0pt}meta\ empty\ {\isacharparenleft}{\kern0pt}length\ rel{\isacharunderscore}{\kern0pt}meta{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ trancl\ rel{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ntrancl\ {\isacharparenleft}{\kern0pt}length\ rel{\isacharunderscore}{\kern0pt}meta{\isacharparenright}{\kern0pt}\ rel\ {\isacharequal}{\kern0pt}\ trancl\ rel{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}leq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ rel\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}\ {\isasymle}\ length\ rel{\isacharunderscore}{\kern0pt}meta{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ List{\isachardot}{\kern0pt}finite{\isacharunderscore}{\kern0pt}set\ card{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}le\ card{\isacharunderscore}{\kern0pt}length\ diff{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}self\ le{\isacharunderscore}{\kern0pt}trans\ rel{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ rel{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ rel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}trancl\ rel\ {\isacharequal}{\kern0pt}\ ntrancl\ {\isacharparenleft}{\kern0pt}card\ rel\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ rel{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}trancl{\isacharunderscore}{\kern0pt}ntranl{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}trancl\ rel\ {\isasymsubseteq}\ ntrancl\ {\isacharparenleft}{\kern0pt}length\ rel{\isacharunderscore}{\kern0pt}meta{\isacharparenright}{\kern0pt}\ rel{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}leq\ ntrancl{\isacharunderscore}{\kern0pt}mono\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}ntrancl\ {\isacharparenleft}{\kern0pt}length\ rel{\isacharunderscore}{\kern0pt}meta{\isacharparenright}{\kern0pt}\ rel\ {\isasymsubseteq}\ trancl\ rel{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ ntrancl{\isacharunderscore}{\kern0pt}bounded\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ List{\isachardot}{\kern0pt}finite{\isacharunderscore}{\kern0pt}set\ le{\isacharunderscore}{\kern0pt}add{\isadigit{2}}\ list{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}map\ ntrancl{\isacharunderscore}{\kern0pt}mono\ rel{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ relpow{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}succ{\isachardot}{\kern0pt}trancl{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}impl\ rel{\isacharunderscore}{\kern0pt}def\ relpow{\isacharunderscore}{\kern0pt}impl{\isacharunderscore}{\kern0pt}ntrancl\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ to{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}map\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharasterisk}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharasterisk}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ list{\isacharparenright}{\kern0pt}\ mapping{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}to{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}map\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Mapping{\isachardot}{\kern0pt}empty{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}to{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}b{\isacharparenright}{\kern0pt}{\isacharhash}{\kern0pt}xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}let\ m\ {\isacharequal}{\kern0pt}\ to{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}map\ xs\ in\isanewline
\ \ \ \ Mapping{\isachardot}{\kern0pt}update\ x\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}b{\isacharparenright}{\kern0pt}\ {\isacharhash}{\kern0pt}\ Mapping{\isachardot}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}default\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ m\ x{\isacharparenright}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ succ{\isacharunderscore}{\kern0pt}map\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}b\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharasterisk}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ list{\isacharparenright}{\kern0pt}\ mapping\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharasterisk}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharasterisk}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ list{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}succ{\isacharunderscore}{\kern0pt}map\ combine{\isacharunderscore}{\kern0pt}meta\ rel{\isacharunderscore}{\kern0pt}map\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}succ{\isacharunderscore}{\kern0pt}map\ combine{\isacharunderscore}{\kern0pt}meta\ rel{\isacharunderscore}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}b{\isacharparenright}{\kern0pt}{\isacharhash}{\kern0pt}xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ \isanewline
\ \ \ \ map\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}z{\isacharcomma}{\kern0pt}b{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ combine{\isacharunderscore}{\kern0pt}meta\ b\ b{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Mapping{\isachardot}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}default\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ rel{\isacharunderscore}{\kern0pt}map\ y{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\ succ{\isacharunderscore}{\kern0pt}map\ combine{\isacharunderscore}{\kern0pt}meta\ rel{\isacharunderscore}{\kern0pt}map\ xs{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{locale}\isamarkupfalse%
\ trancl{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}map\ {\isacharequal}{\kern0pt}\isanewline
\ \ relpow{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}structure\ un\ set{\isacharunderscore}{\kern0pt}of\ memb\ empty\ valid{\isacharunderscore}{\kern0pt}meta\isanewline
\ \ \isakeyword{for}\ un\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder\ {\isasymtimes}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}c\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}c{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ set{\isacharunderscore}{\kern0pt}of\ memb\ empty\ valid{\isacharunderscore}{\kern0pt}meta\ {\isacharplus}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ combine{\isacharunderscore}{\kern0pt}meta\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}b\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ rel{\isacharunderscore}{\kern0pt}meta\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isasymtimes}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ list{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ combine{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}valid{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}valid{\isacharunderscore}{\kern0pt}meta\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharparenright}{\kern0pt}\ b{\isadigit{1}}\ {\isasymLongrightarrow}\ valid{\isacharunderscore}{\kern0pt}meta\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ b{\isadigit{2}}\ {\isasymLongrightarrow}\ valid{\isacharunderscore}{\kern0pt}meta\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}combine{\isacharunderscore}{\kern0pt}meta\ b{\isadigit{1}}\ b{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ valid{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}meta{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}valid{\isacharunderscore}{\kern0pt}metas{\isacharunderscore}{\kern0pt}set\ valid{\isacharunderscore}{\kern0pt}meta\ {\isacharparenleft}{\kern0pt}set\ rel{\isacharunderscore}{\kern0pt}meta{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isakeyword{begin}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isachardoublequoteopen}succ\ {\isasymequiv}\ succ{\isacharunderscore}{\kern0pt}map\ combine{\isacharunderscore}{\kern0pt}meta\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}map\ rel{\isacharunderscore}{\kern0pt}meta{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ rel{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}default{\isacharunderscore}{\kern0pt}lookup{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}Mapping{\isachardot}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}default\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}map\ rel{\isacharparenright}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}z{\isacharcomma}{\kern0pt}b{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}b{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ rel{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ rel{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ lookup{\isacharunderscore}{\kern0pt}default{\isacharunderscore}{\kern0pt}empty\ lookup{\isacharunderscore}{\kern0pt}default{\isacharunderscore}{\kern0pt}update{\isacharprime}{\kern0pt}\ Let{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}succ{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}succ\ as{\isacharparenright}{\kern0pt}\isanewline
\ \ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}combine{\isacharunderscore}{\kern0pt}meta\ p\ q{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ x\ y\ z\ p\ q{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ as\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ rel{\isacharunderscore}{\kern0pt}meta{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}l\ as\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}r\ as{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ as{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ a\ as{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ y\ p\ \isakeyword{where}\ a{\isacharunderscore}{\kern0pt}xyb{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ surj{\isacharunderscore}{\kern0pt}pair{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}l\ {\isacharparenleft}{\kern0pt}a{\isacharhash}{\kern0pt}as{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}combine{\isacharunderscore}{\kern0pt}meta\ p\ q{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ z\ q{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ rel{\isacharunderscore}{\kern0pt}meta{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharquery}{\kern0pt}l\ as{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ rel{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}default{\isacharunderscore}{\kern0pt}lookup\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}r\ {\isacharparenleft}{\kern0pt}a{\isacharhash}{\kern0pt}as{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}xyb\ Cons\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ succ{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}meta{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fst\ {\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}succ\ as{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ x\ y\ z{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymin}\ fst\ {\isacharbackquote}{\kern0pt}\ set\ as\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}\ {\isasymin}\ fst\ {\isacharbackquote}{\kern0pt}\ set\ rel{\isacharunderscore}{\kern0pt}meta{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}succ\ \isacommand{by}\isamarkupfalse%
\ force%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ succ{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}meta{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ valid{\isacharunderscore}{\kern0pt}as{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}valid{\isacharunderscore}{\kern0pt}metas{\isacharunderscore}{\kern0pt}set\ valid{\isacharunderscore}{\kern0pt}meta\ {\isacharparenleft}{\kern0pt}set\ as{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{shows}\ {\isachardoublequoteopen}valid{\isacharunderscore}{\kern0pt}metas{\isacharunderscore}{\kern0pt}set\ valid{\isacharunderscore}{\kern0pt}meta\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}succ\ as{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ valid{\isacharunderscore}{\kern0pt}metas{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ b\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}b\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}succ\ as{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ y\ z\ p\ q\isanewline
\ \ \ \ \isakeyword{where}\ {\isachardoublequoteopen}b\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}combine{\isacharunderscore}{\kern0pt}meta\ p\ q{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ as{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ rel{\isacharunderscore}{\kern0pt}meta{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}succ\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}case\ b\ of\ {\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ valid{\isacharunderscore}{\kern0pt}meta\ u\ r{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ combine{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}valid\ valid{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}meta\ valid{\isacharunderscore}{\kern0pt}as\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ valid{\isacharunderscore}{\kern0pt}metas{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ prod{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{sublocale}\isamarkupfalse%
\ trancl{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}succ\ un\ set{\isacharunderscore}{\kern0pt}of\ memb\ empty\ valid{\isacharunderscore}{\kern0pt}meta\ succ\ rel{\isacharunderscore}{\kern0pt}meta\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ unfold{\isacharunderscore}{\kern0pt}locales\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ succ{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}meta\ succ{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}meta{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
\isanewline
\isacommand{locale}\isamarkupfalse%
\ trancl{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}rbt\ {\isacharequal}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ combine{\isacharunderscore}{\kern0pt}meta\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}b\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ valid{\isacharunderscore}{\kern0pt}meta\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ rel{\isacharunderscore}{\kern0pt}meta\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isasymtimes}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ list{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ combine{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}valid{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}valid{\isacharunderscore}{\kern0pt}meta\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharparenright}{\kern0pt}\ b{\isadigit{1}}\ {\isasymLongrightarrow}\ valid{\isacharunderscore}{\kern0pt}meta\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ b{\isadigit{2}}\ {\isasymLongrightarrow}\ valid{\isacharunderscore}{\kern0pt}meta\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}combine{\isacharunderscore}{\kern0pt}meta\ b{\isadigit{1}}\ b{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ valid{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}meta{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}valid{\isacharunderscore}{\kern0pt}metas{\isacharunderscore}{\kern0pt}set\ valid{\isacharunderscore}{\kern0pt}meta\ {\isacharparenleft}{\kern0pt}set\ rel{\isacharunderscore}{\kern0pt}meta{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isakeyword{begin}\isanewline
\isanewline
\isacommand{sublocale}\isamarkupfalse%
\ trancl{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}map\ un{\isacharunderscore}{\kern0pt}map\ Mapping{\isachardot}{\kern0pt}entries\ memb{\isacharunderscore}{\kern0pt}map\ Mapping{\isachardot}{\kern0pt}empty\ valid{\isacharunderscore}{\kern0pt}meta\ combine{\isacharunderscore}{\kern0pt}meta\ rel{\isacharunderscore}{\kern0pt}meta\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ unfold{\isacharunderscore}{\kern0pt}locales\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ combine{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}valid\ valid{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}meta{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isachardoublequoteopen}trancl{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}impl\ {\isasymequiv}\ {\isacharparenleft}{\kern0pt}relpow{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}impl\ succ\ un{\isacharunderscore}{\kern0pt}map\ memb{\isacharunderscore}{\kern0pt}map\ rel{\isacharunderscore}{\kern0pt}meta\ Mapping{\isachardot}{\kern0pt}empty\ {\isacharparenleft}{\kern0pt}length\ rel{\isacharunderscore}{\kern0pt}meta{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{thm}\isamarkupfalse%
\ relpow{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}trancl\isanewline
\isanewline
\isacommand{thm}\isamarkupfalse%
\ relpow{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}succ{\isachardot}{\kern0pt}relpow{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}metas\isanewline
\isanewline
\isacommand{end}\isamarkupfalse%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Transitive Closure with can\_combine function%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{locale}\isamarkupfalse%
\ relpow{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}combine\ {\isacharequal}{\kern0pt}\isanewline
\ \ relpow{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}structure\ un\ set{\isacharunderscore}{\kern0pt}of\ memb\ empty\ valid{\isacharunderscore}{\kern0pt}meta\isanewline
\ \ \isakeyword{for}\ un\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}c\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}c{\isachardoublequoteclose}\ \isakeyword{and}\ set{\isacharunderscore}{\kern0pt}of\ memb\ empty\ valid{\isacharunderscore}{\kern0pt}meta\ {\isacharplus}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ can{\isacharunderscore}{\kern0pt}combine\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ combine\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ combine{\isacharunderscore}{\kern0pt}meta\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ as\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isasymtimes}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ list{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ valid{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}combine{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}can{\isacharunderscore}{\kern0pt}combine\ k{\isadigit{1}}\ k{\isadigit{2}}\ {\isasymLongrightarrow}\ valid{\isacharunderscore}{\kern0pt}meta\ k{\isadigit{1}}\ v{\isadigit{1}}\ {\isasymLongrightarrow}\ valid{\isacharunderscore}{\kern0pt}meta\ k{\isadigit{2}}\ v{\isadigit{2}}\isanewline
\ \ \ \ \ \ {\isasymLongrightarrow}\ valid{\isacharunderscore}{\kern0pt}meta\ {\isacharparenleft}{\kern0pt}combine\ k{\isadigit{1}}\ k{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}combine{\isacharunderscore}{\kern0pt}meta\ k{\isadigit{1}}\ v{\isadigit{1}}\ k{\isadigit{2}}\ v{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ as{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}metas{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}valid{\isacharunderscore}{\kern0pt}metas\ {\isacharparenleft}{\kern0pt}set\ as{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isakeyword{begin}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ succ\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharasterisk}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharasterisk}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ list{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}succ\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}succ\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharhash}{\kern0pt}xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ map\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}b{\isacharcomma}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}combine\ a\ b{\isacharcomma}{\kern0pt}\ combine{\isacharunderscore}{\kern0pt}meta\ a\ p\ b\ q{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}b{\isacharcomma}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ can{\isacharunderscore}{\kern0pt}combine\ a\ b{\isacharparenright}{\kern0pt}\ as{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharat}{\kern0pt}\ succ\ xs{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ relpow{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}combine{\isacharunderscore}{\kern0pt}impl\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}c\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}relpow{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}combine{\isacharunderscore}{\kern0pt}impl\ {\isacharequal}{\kern0pt}\ relpow{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}impl\ succ\ un\ memb\ as\ empty\ {\isacharparenleft}{\kern0pt}length\ as{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isachardoublequoteopen}rel{\isacharunderscore}{\kern0pt}succ\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}combine\ a\ b{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}a\ b{\isachardot}{\kern0pt}\ b\ {\isasymin}\ fst\ {\isacharbackquote}{\kern0pt}\ set\ as\ {\isasymand}\ can{\isacharunderscore}{\kern0pt}combine\ a\ b{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ succ{\isacharunderscore}{\kern0pt}aux{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}b{\isacharcomma}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}combine\ a\ b{\isacharcomma}{\kern0pt}\ combine{\isacharunderscore}{\kern0pt}meta\ a\ p\ b\ q{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}b{\isacharcomma}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ can{\isacharunderscore}{\kern0pt}combine\ a\ b{\isacharparenright}{\kern0pt}\ as{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}combine\ a\ b{\isacharcomma}{\kern0pt}\ combine{\isacharunderscore}{\kern0pt}meta\ a\ p\ b\ q{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ b\ q{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}b{\isacharcomma}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ as\ {\isasymand}\ can{\isacharunderscore}{\kern0pt}combine\ a\ b{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ succ{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}succ\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}combine\ a\ b{\isacharcomma}{\kern0pt}\ combine{\isacharunderscore}{\kern0pt}meta\ a\ p\ b\ q{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}a\ p\ b\ q{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ xs\ {\isasymand}\ {\isacharparenleft}{\kern0pt}b{\isacharcomma}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ as\ {\isasymand}\ can{\isacharunderscore}{\kern0pt}combine\ a\ b{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}fastforce{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ succ{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}succ{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fst\ {\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}succ\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}b{\isachardot}{\kern0pt}\ {\isasymexists}a{\isasymin}fst\ {\isacharbackquote}{\kern0pt}\ set\ xs{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}\ {\isasymin}\ rel{\isacharunderscore}{\kern0pt}succ{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fst\ {\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}succ\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fst\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}combine\ a\ b{\isacharcomma}{\kern0pt}\ combine{\isacharunderscore}{\kern0pt}meta\ a\ p\ b\ q{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ a\ p\ b\ q{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ xs\ {\isasymand}{\isacharparenleft}{\kern0pt}b{\isacharcomma}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ as\ {\isasymand}\ can{\isacharunderscore}{\kern0pt}combine\ a\ b{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ succ{\isacharunderscore}{\kern0pt}set\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}combine\ a\ b\ {\isacharbar}{\kern0pt}\ a\ p\ b\ q{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ xs\ {\isasymand}{\isacharparenleft}{\kern0pt}b{\isacharcomma}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ as\ {\isasymand}\ can{\isacharunderscore}{\kern0pt}combine\ a\ b{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}b{\isachardot}{\kern0pt}\ {\isasymexists}a{\isasymin}fst\ {\isacharbackquote}{\kern0pt}\ set\ xs{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}\ {\isasymin}\ rel{\isacharunderscore}{\kern0pt}succ{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ rel{\isacharunderscore}{\kern0pt}succ{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ succ{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}metas{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}valid{\isacharunderscore}{\kern0pt}metas\ {\isacharparenleft}{\kern0pt}set\ as{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ valid{\isacharunderscore}{\kern0pt}metas\ {\isacharparenleft}{\kern0pt}set\ xs{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ valid{\isacharunderscore}{\kern0pt}metas\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}succ\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ valid{\isacharunderscore}{\kern0pt}metas{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ succ{\isacharunderscore}{\kern0pt}set\ valid{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}combine\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ prod{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{sublocale}\isamarkupfalse%
\ relpow{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}succ\ un\ set{\isacharunderscore}{\kern0pt}of\ memb\ empty\ valid{\isacharunderscore}{\kern0pt}meta\ succ\ rel{\isacharunderscore}{\kern0pt}succ\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ succ{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}succ\ succ{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}metas\ as{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}metas\ \isacommand{by}\isamarkupfalse%
\ unfold{\isacharunderscore}{\kern0pt}locales%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
\isanewline
\isacommand{locale}\isamarkupfalse%
\ trancl{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}combine{\isacharunderscore}{\kern0pt}impl\ {\isacharequal}{\kern0pt}\isanewline
\ \ relpow{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}structure\ un\ set{\isacharunderscore}{\kern0pt}of\ memb\ empty\ valid{\isacharunderscore}{\kern0pt}meta\isanewline
\ \ \isakeyword{for}\ un\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder\ {\isacharasterisk}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}c\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}c{\isachardoublequoteclose}\ \isakeyword{and}\ set{\isacharunderscore}{\kern0pt}of\ memb\ empty\ valid{\isacharunderscore}{\kern0pt}meta\ {\isacharplus}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ rel{\isacharunderscore}{\kern0pt}meta\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isasymtimes}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ list{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ combine{\isacharunderscore}{\kern0pt}meta\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}b\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ rel{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}metas{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}valid{\isacharunderscore}{\kern0pt}metas\ {\isacharparenleft}{\kern0pt}set\ rel{\isacharunderscore}{\kern0pt}meta{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ valid{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}combine{\isacharunderscore}{\kern0pt}meta{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}valid{\isacharunderscore}{\kern0pt}meta\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ pxy\ {\isasymLongrightarrow}\ valid{\isacharunderscore}{\kern0pt}meta\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}\ pyz\isanewline
\ \ \ \ \ \ {\isasymLongrightarrow}\ valid{\isacharunderscore}{\kern0pt}meta\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}combine{\isacharunderscore}{\kern0pt}meta\ pxy\ pyz{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isakeyword{begin}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ can{\isacharunderscore}{\kern0pt}combine\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharasterisk}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharasterisk}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}can{\isacharunderscore}{\kern0pt}combine\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}y{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ y\ {\isacharequal}{\kern0pt}\ y{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ combine\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharasterisk}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharasterisk}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharasterisk}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{where}\ \isanewline
\ \ {\isachardoublequoteopen}combine\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}y{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{sublocale}\isamarkupfalse%
\ relpow{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}combine\ un\ set{\isacharunderscore}{\kern0pt}of\ memb\ empty\ valid{\isacharunderscore}{\kern0pt}meta\ can{\isacharunderscore}{\kern0pt}combine\ combine\ {\isachardoublequoteopen}{\isasymlambda}u\ b{\isadigit{1}}\ v\ b{\isadigit{2}}{\isachardot}{\kern0pt}\ combine{\isacharunderscore}{\kern0pt}meta\ b{\isadigit{1}}\ b{\isadigit{2}}{\isachardoublequoteclose}\ rel{\isacharunderscore}{\kern0pt}meta\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ unfold{\isacharunderscore}{\kern0pt}locales\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ valid{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}combine{\isacharunderscore}{\kern0pt}meta\ combine{\isacharunderscore}{\kern0pt}def\ can{\isacharunderscore}{\kern0pt}combine{\isacharunderscore}{\kern0pt}def\ rel{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}metas{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ succ{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}meta{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fst\ {\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}succ\ as{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ x\ y\ z{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharparenright}{\kern0pt}\ {\isasymin}\ fst\ {\isacharbackquote}{\kern0pt}\ set\ as\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ {\isasymin}\ fst\ {\isacharbackquote}{\kern0pt}\ set\ rel{\isacharunderscore}{\kern0pt}meta{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}l\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}r{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}l\ {\isasymsubseteq}\ {\isacharquery}{\kern0pt}r{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ c\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}c\ {\isasymin}\ {\isacharquery}{\kern0pt}l{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ a\ p\ b\ q\ \isakeyword{where}\ c{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}c\ {\isacharequal}{\kern0pt}\ combine\ a\ b{\isachardoublequoteclose}\ \isakeyword{and}\ a{\isacharunderscore}{\kern0pt}as{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ as{\isachardoublequoteclose}\ \isakeyword{and}\ b{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}meta{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}b{\isacharcomma}{\kern0pt}\ q{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ rel{\isacharunderscore}{\kern0pt}meta\ {\isasymand}\ can{\isacharunderscore}{\kern0pt}combine\ a\ b{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ succ{\isacharunderscore}{\kern0pt}set\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ y\ z\ \isakeyword{where}\ a{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ b{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}b\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ can{\isacharunderscore}{\kern0pt}combine{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ fst{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}ab{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymin}\ fst\ {\isacharbackquote}{\kern0pt}\ set\ as\ {\isasymand}\ b\ {\isasymin}\ fst\ {\isacharbackquote}{\kern0pt}\ set\ rel{\isacharunderscore}{\kern0pt}meta{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}as\ b{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}meta\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ c{\isacharunderscore}{\kern0pt}xy{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}c\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ c\ combine{\isacharunderscore}{\kern0pt}def\ a\ b{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}c\ {\isasymin}\ {\isacharquery}{\kern0pt}r{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ fst{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}ab\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ a\ b\ c\ combine{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}l\ {\isasymsupseteq}\ {\isacharquery}{\kern0pt}r{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ c\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}c\ {\isasymin}\ {\isacharquery}{\kern0pt}r{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ y\ z\ \isakeyword{where}\ c{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}c\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ xy{\isacharunderscore}{\kern0pt}as{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharparenright}{\kern0pt}\ {\isasymin}\ fst\ {\isacharbackquote}{\kern0pt}\ set\ as{\isachardoublequoteclose}\ \isakeyword{and}\ yz{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}meta{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ {\isasymin}\ fst\ {\isacharbackquote}{\kern0pt}\ set\ rel{\isacharunderscore}{\kern0pt}meta{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ p\ q\ \isakeyword{where}\ xy{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}as{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ as{\isachardoublequoteclose}\ \isakeyword{and}\ yz{\isacharunderscore}{\kern0pt}q{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}meta{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ rel{\isacharunderscore}{\kern0pt}meta{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ c{\isacharunderscore}{\kern0pt}combine{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}c\ {\isacharequal}{\kern0pt}\ combine\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ c\ combine{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ can{\isacharunderscore}{\kern0pt}combine{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}can{\isacharunderscore}{\kern0pt}combine\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ can{\isacharunderscore}{\kern0pt}combine{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}c\ {\isasymin}\ {\isacharquery}{\kern0pt}l{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ succ{\isacharunderscore}{\kern0pt}set\ \isacommand{using}\isamarkupfalse%
\ xy{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}as\ yz{\isacharunderscore}{\kern0pt}q{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}meta\ c{\isacharunderscore}{\kern0pt}combine\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{sublocale}\isamarkupfalse%
\ trancl{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}succ{\isacharcolon}{\kern0pt}\ trancl{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}succ\ un\ set{\isacharunderscore}{\kern0pt}of\ memb\ empty\ valid{\isacharunderscore}{\kern0pt}meta\ succ\ rel{\isacharunderscore}{\kern0pt}meta\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ unfold{\isacharunderscore}{\kern0pt}locales\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ succ{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}meta\ succ{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}metas\ rel{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}metas{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ trancl{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}combine{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}keys{\isacharunderscore}{\kern0pt}of\ {\isacharparenleft}{\kern0pt}relpow{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}impl\ succ\ un\ memb\ rel{\isacharunderscore}{\kern0pt}meta\ empty\ {\isacharparenleft}{\kern0pt}length\ rel{\isacharunderscore}{\kern0pt}meta{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ trancl{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}succ{\isachardot}{\kern0pt}rel\isactrlsup {\isacharplus}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ trancl{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}succ{\isachardot}{\kern0pt}relpow{\isacharunderscore}{\kern0pt}meta{\isacharunderscore}{\kern0pt}trancl\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=Transitive_Closure_Meta_Impl.tex%:%
%:%11=1%:%
%:%27=3%:%
%:%28=3%:%
%:%29=4%:%
%:%30=5%:%
%:%44=7%:%
%:%54=9%:%
%:%55=9%:%
%:%56=10%:%
%:%57=11%:%
%:%58=11%:%
%:%59=12%:%
%:%60=13%:%
%:%61=13%:%
%:%64=14%:%
%:%68=14%:%
%:%69=14%:%
%:%74=14%:%
%:%77=15%:%
%:%78=16%:%
%:%79=16%:%
%:%80=17%:%
%:%83=18%:%
%:%87=18%:%
%:%88=18%:%
%:%89=18%:%
%:%94=18%:%
%:%97=19%:%
%:%98=20%:%
%:%99=20%:%
%:%100=21%:%
%:%101=22%:%
%:%102=23%:%
%:%105=24%:%
%:%109=24%:%
%:%110=24%:%
%:%111=25%:%
%:%112=25%:%
%:%113=26%:%
%:%114=26%:%
%:%115=27%:%
%:%116=27%:%
%:%117=28%:%
%:%118=28%:%
%:%119=28%:%
%:%120=28%:%
%:%121=29%:%
%:%122=29%:%
%:%123=30%:%
%:%124=30%:%
%:%125=31%:%
%:%126=31%:%
%:%127=31%:%
%:%128=31%:%
%:%129=31%:%
%:%130=32%:%
%:%131=32%:%
%:%132=32%:%
%:%133=33%:%
%:%134=33%:%
%:%135=33%:%
%:%136=33%:%
%:%137=33%:%
%:%138=33%:%
%:%139=34%:%
%:%140=34%:%
%:%141=34%:%
%:%142=34%:%
%:%143=34%:%
%:%144=35%:%
%:%145=35%:%
%:%146=35%:%
%:%147=35%:%
%:%148=35%:%
%:%149=36%:%
%:%155=36%:%
%:%158=37%:%
%:%159=38%:%
%:%160=38%:%
%:%163=39%:%
%:%167=39%:%
%:%168=39%:%
%:%169=40%:%
%:%170=40%:%
%:%184=42%:%
%:%194=44%:%
%:%195=44%:%
%:%196=45%:%
%:%197=46%:%
%:%198=47%:%
%:%199=48%:%
%:%200=49%:%
%:%201=50%:%
%:%202=51%:%
%:%203=52%:%
%:%204=53%:%
%:%205=54%:%
%:%206=54%:%
%:%207=55%:%
%:%208=56%:%
%:%209=56%:%
%:%210=57%:%
%:%211=58%:%
%:%212=59%:%
%:%213=59%:%
%:%220=60%:%
%:%221=60%:%
%:%222=61%:%
%:%223=61%:%
%:%224=61%:%
%:%225=61%:%
%:%226=62%:%
%:%227=62%:%
%:%228=63%:%
%:%229=63%:%
%:%230=64%:%
%:%231=64%:%
%:%232=65%:%
%:%233=65%:%
%:%234=66%:%
%:%235=66%:%
%:%236=66%:%
%:%237=66%:%
%:%238=67%:%
%:%239=67%:%
%:%240=67%:%
%:%241=67%:%
%:%242=67%:%
%:%243=68%:%
%:%244=68%:%
%:%245=68%:%
%:%246=68%:%
%:%247=68%:%
%:%248=68%:%
%:%249=69%:%
%:%250=69%:%
%:%251=70%:%
%:%257=70%:%
%:%260=71%:%
%:%261=72%:%
%:%262=73%:%
%:%263=73%:%
%:%266=74%:%
%:%270=74%:%
%:%271=74%:%
%:%272=74%:%
%:%277=74%:%
%:%280=75%:%
%:%281=76%:%
%:%282=77%:%
%:%283=77%:%
%:%290=78%:%
%:%291=78%:%
%:%292=79%:%
%:%293=79%:%
%:%294=80%:%
%:%295=80%:%
%:%296=81%:%
%:%297=81%:%
%:%298=82%:%
%:%299=82%:%
%:%300=82%:%
%:%301=82%:%
%:%302=83%:%
%:%303=83%:%
%:%304=84%:%
%:%305=84%:%
%:%306=85%:%
%:%307=85%:%
%:%308=86%:%
%:%309=86%:%
%:%310=87%:%
%:%311=87%:%
%:%312=88%:%
%:%313=88%:%
%:%314=89%:%
%:%315=89%:%
%:%316=89%:%
%:%317=90%:%
%:%318=91%:%
%:%319=92%:%
%:%320=92%:%
%:%321=93%:%
%:%322=93%:%
%:%323=93%:%
%:%324=93%:%
%:%325=93%:%
%:%326=94%:%
%:%327=94%:%
%:%328=94%:%
%:%329=94%:%
%:%330=94%:%
%:%331=94%:%
%:%332=95%:%
%:%333=95%:%
%:%334=96%:%
%:%335=96%:%
%:%336=97%:%
%:%337=97%:%
%:%338=98%:%
%:%339=98%:%
%:%340=99%:%
%:%341=99%:%
%:%342=100%:%
%:%343=100%:%
%:%344=101%:%
%:%345=101%:%
%:%346=101%:%
%:%347=101%:%
%:%348=102%:%
%:%349=102%:%
%:%350=103%:%
%:%351=103%:%
%:%352=104%:%
%:%353=104%:%
%:%354=105%:%
%:%355=105%:%
%:%356=106%:%
%:%357=106%:%
%:%358=107%:%
%:%359=107%:%
%:%360=108%:%
%:%361=108%:%
%:%362=108%:%
%:%363=108%:%
%:%364=109%:%
%:%365=109%:%
%:%366=109%:%
%:%367=109%:%
%:%368=109%:%
%:%369=110%:%
%:%370=110%:%
%:%371=110%:%
%:%372=110%:%
%:%373=111%:%
%:%374=111%:%
%:%375=111%:%
%:%376=111%:%
%:%377=111%:%
%:%378=112%:%
%:%379=112%:%
%:%380=113%:%
%:%381=113%:%
%:%382=114%:%
%:%388=114%:%
%:%391=115%:%
%:%392=116%:%
%:%393=116%:%
%:%396=117%:%
%:%400=117%:%
%:%401=117%:%
%:%402=117%:%
%:%403=117%:%
%:%408=117%:%
%:%411=118%:%
%:%412=119%:%
%:%413=119%:%
%:%420=120%:%
%:%421=120%:%
%:%422=121%:%
%:%423=121%:%
%:%424=121%:%
%:%425=122%:%
%:%426=122%:%
%:%427=122%:%
%:%428=122%:%
%:%429=122%:%
%:%430=123%:%
%:%431=123%:%
%:%432=123%:%
%:%433=123%:%
%:%434=123%:%
%:%435=124%:%
%:%436=124%:%
%:%437=124%:%
%:%438=124%:%
%:%439=125%:%
%:%445=125%:%
%:%448=126%:%
%:%449=127%:%
%:%450=127%:%
%:%451=128%:%
%:%458=129%:%
%:%459=129%:%
%:%460=130%:%
%:%461=130%:%
%:%462=131%:%
%:%463=131%:%
%:%464=131%:%
%:%465=131%:%
%:%466=132%:%
%:%467=132%:%
%:%468=133%:%
%:%469=133%:%
%:%470=134%:%
%:%471=134%:%
%:%472=134%:%
%:%473=135%:%
%:%474=135%:%
%:%475=135%:%
%:%476=135%:%
%:%477=136%:%
%:%478=136%:%
%:%479=136%:%
%:%480=136%:%
%:%481=136%:%
%:%482=137%:%
%:%483=137%:%
%:%484=137%:%
%:%485=137%:%
%:%486=137%:%
%:%487=138%:%
%:%488=138%:%
%:%489=138%:%
%:%490=138%:%
%:%491=138%:%
%:%492=139%:%
%:%493=139%:%
%:%494=139%:%
%:%495=139%:%
%:%496=140%:%
%:%502=140%:%
%:%505=141%:%
%:%506=142%:%
%:%507=142%:%
%:%509=142%:%
%:%513=142%:%
%:%514=142%:%
%:%515=142%:%
%:%522=142%:%
%:%523=143%:%
%:%524=144%:%
%:%525=144%:%
%:%528=145%:%
%:%532=145%:%
%:%533=145%:%
%:%538=145%:%
%:%541=146%:%
%:%542=147%:%
%:%543=147%:%
%:%550=148%:%
%:%551=148%:%
%:%552=149%:%
%:%553=149%:%
%:%554=150%:%
%:%555=150%:%
%:%556=151%:%
%:%557=151%:%
%:%558=152%:%
%:%559=152%:%
%:%560=153%:%
%:%561=153%:%
%:%562=153%:%
%:%563=153%:%
%:%564=154%:%
%:%565=154%:%
%:%566=154%:%
%:%567=154%:%
%:%568=155%:%
%:%569=155%:%
%:%570=155%:%
%:%571=155%:%
%:%572=155%:%
%:%573=156%:%
%:%574=156%:%
%:%575=157%:%
%:%576=157%:%
%:%577=157%:%
%:%578=158%:%
%:%579=158%:%
%:%580=159%:%
%:%581=159%:%
%:%582=160%:%
%:%583=160%:%
%:%584=160%:%
%:%585=160%:%
%:%586=160%:%
%:%587=161%:%
%:%593=161%:%
%:%596=162%:%
%:%597=163%:%
%:%598=163%:%
%:%599=164%:%
%:%600=165%:%
%:%601=166%:%
%:%602=166%:%
%:%603=167%:%
%:%604=168%:%
%:%605=169%:%
%:%606=170%:%
%:%607=171%:%
%:%608=171%:%
%:%609=172%:%
%:%610=173%:%
%:%611=174%:%
%:%612=175%:%
%:%613=176%:%
%:%614=176%:%
%:%615=177%:%
%:%616=178%:%
%:%617=179%:%
%:%618=180%:%
%:%619=181%:%
%:%620=182%:%
%:%621=183%:%
%:%622=184%:%
%:%623=185%:%
%:%624=186%:%
%:%625=186%:%
%:%626=187%:%
%:%627=188%:%
%:%628=188%:%
%:%631=189%:%
%:%635=189%:%
%:%636=189%:%
%:%641=189%:%
%:%644=190%:%
%:%645=191%:%
%:%646=191%:%
%:%647=192%:%
%:%654=193%:%
%:%655=193%:%
%:%656=194%:%
%:%657=194%:%
%:%658=195%:%
%:%659=195%:%
%:%660=195%:%
%:%661=195%:%
%:%662=196%:%
%:%663=196%:%
%:%664=197%:%
%:%665=197%:%
%:%666=198%:%
%:%667=198%:%
%:%668=198%:%
%:%669=198%:%
%:%670=199%:%
%:%671=199%:%
%:%672=199%:%
%:%673=199%:%
%:%674=199%:%
%:%675=200%:%
%:%676=200%:%
%:%677=200%:%
%:%678=200%:%
%:%679=200%:%
%:%680=201%:%
%:%681=201%:%
%:%682=201%:%
%:%683=201%:%
%:%684=202%:%
%:%690=202%:%
%:%693=203%:%
%:%694=204%:%
%:%695=204%:%
%:%698=205%:%
%:%702=205%:%
%:%703=205%:%
%:%704=205%:%
%:%709=205%:%
%:%712=206%:%
%:%713=207%:%
%:%714=207%:%
%:%715=208%:%
%:%716=209%:%
%:%719=210%:%
%:%723=210%:%
%:%724=210%:%
%:%725=211%:%
%:%726=211%:%
%:%727=212%:%
%:%728=212%:%
%:%729=213%:%
%:%730=213%:%
%:%731=214%:%
%:%732=214%:%
%:%733=214%:%
%:%734=215%:%
%:%735=216%:%
%:%736=217%:%
%:%737=217%:%
%:%738=217%:%
%:%739=218%:%
%:%740=218%:%
%:%741=218%:%
%:%742=218%:%
%:%743=218%:%
%:%744=219%:%
%:%750=219%:%
%:%753=220%:%
%:%754=221%:%
%:%755=221%:%
%:%758=222%:%
%:%762=222%:%
%:%763=222%:%
%:%768=222%:%
%:%771=223%:%
%:%772=224%:%
%:%773=224%:%
%:%774=225%:%
%:%775=226%:%
%:%776=226%:%
%:%777=227%:%
%:%778=228%:%
%:%779=229%:%
%:%780=230%:%
%:%781=231%:%
%:%782=232%:%
%:%783=233%:%
%:%784=234%:%
%:%785=234%:%
%:%788=235%:%
%:%792=235%:%
%:%793=235%:%
%:%798=235%:%
%:%801=236%:%
%:%802=237%:%
%:%803=237%:%
%:%804=238%:%
%:%805=239%:%
%:%806=239%:%
%:%807=240%:%
%:%808=241%:%
%:%809=241%:%
%:%810=242%:%
%:%811=243%:%
%:%819=246%:%
%:%829=248%:%
%:%830=248%:%
%:%831=249%:%
%:%832=250%:%
%:%833=251%:%
%:%834=252%:%
%:%835=253%:%
%:%836=254%:%
%:%837=255%:%
%:%838=256%:%
%:%839=257%:%
%:%840=258%:%
%:%841=259%:%
%:%842=260%:%
%:%843=260%:%
%:%844=261%:%
%:%845=262%:%
%:%847=264%:%
%:%848=265%:%
%:%849=266%:%
%:%850=266%:%
%:%851=267%:%
%:%852=268%:%
%:%853=269%:%
%:%854=269%:%
%:%855=270%:%
%:%856=271%:%
%:%857=271%:%
%:%860=272%:%
%:%864=272%:%
%:%865=272%:%
%:%872=272%:%
%:%873=273%:%
%:%874=274%:%
%:%875=274%:%
%:%878=275%:%
%:%882=275%:%
%:%883=275%:%
%:%888=275%:%
%:%891=276%:%
%:%892=277%:%
%:%893=277%:%
%:%900=278%:%
%:%901=278%:%
%:%902=279%:%
%:%903=279%:%
%:%904=279%:%
%:%905=279%:%
%:%906=280%:%
%:%907=280%:%
%:%908=280%:%
%:%909=280%:%
%:%910=281%:%
%:%911=281%:%
%:%912=281%:%
%:%913=281%:%
%:%914=281%:%
%:%915=282%:%
%:%916=282%:%
%:%917=282%:%
%:%918=282%:%
%:%919=283%:%
%:%925=283%:%
%:%928=284%:%
%:%929=285%:%
%:%930=285%:%
%:%933=286%:%
%:%937=286%:%
%:%938=286%:%
%:%939=287%:%
%:%940=287%:%
%:%941=287%:%
%:%946=287%:%
%:%949=288%:%
%:%950=289%:%
%:%951=289%:%
%:%954=290%:%
%:%958=290%:%
%:%959=290%:%
%:%960=290%:%
%:%965=290%:%
%:%968=291%:%
%:%969=292%:%
%:%970=292%:%
%:%971=293%:%
%:%972=294%:%
%:%973=294%:%
%:%974=295%:%
%:%975=296%:%
%:%976=297%:%
%:%977=298%:%
%:%978=299%:%
%:%979=300%:%
%:%980=301%:%
%:%981=302%:%
%:%982=303%:%
%:%983=304%:%
%:%984=304%:%
%:%985=305%:%
%:%986=306%:%
%:%987=307%:%
%:%988=307%:%
%:%989=308%:%
%:%990=309%:%
%:%991=310%:%
%:%992=310%:%
%:%995=311%:%
%:%999=311%:%
%:%1000=311%:%
%:%1005=311%:%
%:%1008=312%:%
%:%1009=313%:%
%:%1010=313%:%
%:%1017=314%:%
%:%1018=314%:%
%:%1019=315%:%
%:%1020=315%:%
%:%1021=316%:%
%:%1022=316%:%
%:%1023=317%:%
%:%1024=317%:%
%:%1025=318%:%
%:%1026=318%:%
%:%1027=319%:%
%:%1028=319%:%
%:%1029=319%:%
%:%1030=319%:%
%:%1031=319%:%
%:%1032=320%:%
%:%1033=320%:%
%:%1034=320%:%
%:%1035=320%:%
%:%1036=320%:%
%:%1037=321%:%
%:%1038=321%:%
%:%1039=321%:%
%:%1040=321%:%
%:%1041=322%:%
%:%1042=322%:%
%:%1043=322%:%
%:%1044=323%:%
%:%1045=323%:%
%:%1046=323%:%
%:%1047=323%:%
%:%1048=323%:%
%:%1049=324%:%
%:%1050=324%:%
%:%1051=325%:%
%:%1052=325%:%
%:%1053=326%:%
%:%1054=326%:%
%:%1055=327%:%
%:%1056=327%:%
%:%1057=328%:%
%:%1058=328%:%
%:%1059=329%:%
%:%1060=329%:%
%:%1061=329%:%
%:%1062=329%:%
%:%1063=330%:%
%:%1064=330%:%
%:%1065=330%:%
%:%1066=330%:%
%:%1067=331%:%
%:%1068=331%:%
%:%1069=331%:%
%:%1070=332%:%
%:%1071=332%:%
%:%1072=332%:%
%:%1073=333%:%
%:%1074=333%:%
%:%1075=333%:%
%:%1076=333%:%
%:%1077=333%:%
%:%1078=333%:%
%:%1079=334%:%
%:%1080=334%:%
%:%1081=335%:%
%:%1087=335%:%
%:%1090=336%:%
%:%1091=337%:%
%:%1092=337%:%
%:%1095=338%:%
%:%1099=338%:%
%:%1100=338%:%
%:%1105=338%:%
%:%1108=339%:%
%:%1109=340%:%
%:%1110=340%:%
%:%1113=341%:%
%:%1117=341%:%
%:%1118=341%:%
%:%1124=341%:%
%:%1127=342%:%
%:%1128=343%:%
%:%1129=343%:%
%:%1132=344%:%
%:%1137=345%:%
